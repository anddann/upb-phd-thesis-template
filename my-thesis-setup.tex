% **************************************************
% Files' Character Encoding
% **************************************************
\PassOptionsToPackage{utf8}{inputenc}
\usepackage{inputenc}

\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{table}{xcolor}


\pdfminorversion=7

%% allow path relative imports / includes 
\usepackage{import}

\usepackage{lscape}
\usepackage{rotating}
\usepackage{makecell}


% **************************************************
% Information and Commands for Reuse
% **************************************************
\newcommand{\thesisTitle}{Title -- \linebreak[3] Subtitle}


\newcommand{\thesisName}{Author}
\newcommand{\thesisSubject}{Dissertation}
%\newcommand{\thesisDate}{November, 2023}
\newcommand{\thesisDate}{\today{}}
\newcommand{\thesisVersion}{v1.2}

\newcommand{\thesisFirstReviewer}{Reviewer 1}
\newcommand{\thesisFirstReviewerUniversity}{\protect{Paderborn University}}
\newcommand{\thesisFirstReviewerDepartment}{Department of Clean Thesis Style}

\newcommand{\thesisSecondReviewer}{Reviewer 2}
\newcommand{\thesisSecondReviewerUniversity}{\protect{TU Dortmund University}}
\newcommand{\thesisSecondReviewerDepartment}{Department of Clean Thesis Style}

\newcommand{\thesisFirstSupervisor}{Supervisor 1}
\newcommand{\thesisSecondSupervisor}{Supervisor 2}

\newcommand{\thesisUniversity}{\protect{Paderborn University}}
\newcommand{\thesisUniversityDepartment}{Faculty of Computer Science, Electrical Engineering and Mathematics}
\newcommand{\thesisUniversityInstitute}{Department of Computer Science}
\newcommand{\thesisUniversityGroup}{Research Group Secure Software Engineering}
\newcommand{\thesisUniversityCity}{Paderborn}
\newcommand{\thesisUniversityStreetAddress}{Warburger Stra√üe 100}
\newcommand{\thesisUniversityPostalCode}{33098}


% **************************************************
% Debug LaTeX Information
% **************************************************
%\listfiles


% **************************************************
% Load and Configure Packages
% **************************************************
\usepackage[english]{babel} % babel system, adjust the language of the content
\PassOptionsToPackage{% setup clean thesis style
    figuresep=colon,%
    hangfigurecaption=false,%
    hangsection=true,%
    hangsubsection=true,%
    sansserif=false,%
    configurelistings=false,%
    colorize=full,%
    colortheme=bluemagenta,%
    configurebiblatex=true,% 
    bibsys=biber,%  AD - use new biber component
    bibfile=jabref-bib,%
    bibstyle=alphabetic,%
    bibsorting=nyt,%
}{cleanthesis}
\usepackage{cleanthesis}

\hypersetup{% setup the hyperref-package options
    pdftitle={\thesisTitle},    %   - title (PDF meta)
    pdfsubject={\thesisSubject},%   - subject (PDF meta)
    pdfauthor={\thesisName},    %   - author (PDF meta)
    plainpages=false,           %   -
    colorlinks=false,           %   - colorize links?
    pdfborder={0 0 0},          %   -
    breaklinks=true,            %   - allow line break inside links
    bookmarks=true,
    bookmarksnumbered=true,     %
    bookmarksopen=true          %
}



% **************************************************
% ToDo Notes Styling
% **************************************************

%[disable]
\usepackage{todonotes}

\usepackage{widows-and-orphans}

\newcommand{\eb}[1]{\todo[inline,color=green!40]{EB: #1}}
\newcommand{\ben}[1]{\todo[inline,color=teal!40]{Ben: #1}}

\newcommand{\ada}[1]{\todo[inline,color=pink!40]{AD: #1}}


% **************************************************
% Misc Styling
% **************************************************

\usepackage{xspace}
\usepackage{framed}

% must be loaded before subcaption - enables environment sublstlisting
\AtBeginDocument{\DeclareCaptionSubType{lstlisting}}


% \usepackage{numprint}
% \npthousandsep{,}
\usepackage[list=false]{subcaption}



\usepackage{pifont}

\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\ccirc}{\ding{108}}%
\newcommand{\xcirc}{\ding{109}}%

\usepackage{tikz}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{arrows.meta,arrows}


\usepackage{dirtree}
\usepackage{multicol}
\usepackage{xtab}


% **************************************************
% Table Styling
% **************************************************

\usepackage{booktabs}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{tabulary}

\usepackage{longtable} 
%% workin title: Thetis


\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}


\newcommand{\naive}{na\"ive}
\newcommand{\tabitem}{~\llap{\textbullet}~}


\definecolor{tab1}{RGB}{174,199,232}
\definecolor{tab2}{RGB}{255,187,120}
\definecolor{tab3}{RGB}{152,223,138}
\definecolor{tab4}{RGB}{247,182,210}


\usepackage{threeparttable}

% **************************************************
% Listing and Algorithm Styling
% **************************************************
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{listings}
\usepackage{enumitem}

%\DTsetlength{1em}{1em}{0em}{0.4pt}{0.4pt}       
\setlength{\DTbaselineskip}{12pt} %minimum size for  \large


\newcommand{\lcolorbox}[2]{%
  \hspace*{-\fboxsep}\colorbox{#1}{#2}%
}

\algnewcommand{\LeftComment}[1]{{\footnotesize\Statex /* \textit{#1} */}}
\renewcommand{\algorithmiccomment}[1]{\hfill {\footnotesize/* \textit{#1} */}}

\algnewcommand\algorithmicinput{{\textbf{Input:}}}
\algnewcommand\algorithmicoutput{{\textbf{Output:}}}
\algnewcommand\Input{\item[\algorithmicinput]}
\algnewcommand\Output{\item[\algorithmicoutput]}

%\algrenewcommand\algorithmicindent{0.50em}%

\definecolor{KeyWordColor}{rgb}{0.37,0.08,0.25}
\definecolor{CommentColor}{rgb}{0.133,0.545,0.133}
\definecolor{StringColor}{rgb}{0,0.126,0.941}




% this is used listings rules
\newcommand*{\logcomment}[1]{%
  \begingroup
    \fontseries{lc}%
    \fontshape{it}%
    \selectfont
    %\lstset{columns=fullflexible}%
    \color{CommentColor}%
    #1%
  \endgroup
}





% %%listing setups ...
\usepackage[scaled=0.85]{beramono}            % load a nice TT font

\lstset{
 % backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
  basicstyle=\footnotesize\ttfamily,
  %columns=fullflexible,
  escapechar=\%,
  numbers=left,
  frame=left,
  frame=top,
  breaklines=true,
  showspaces=false,
  showtabs=false,
  showstringspaces=false,
  captionpos=b,
  xleftmargin=25pt,
  framexleftmargin=25pt,
  framexrightmargin=0pt,
  framexbottommargin=5pt,
  framextopmargin=5pt,
  escapeinside={(*@}{@*)},
  keywordstyle=\bfseries\color{KeyWordColor},
  commentstyle=\color{CommentColor},
  stringstyle=\color{StringColor},
}


\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]"
}


\lstdefinelanguage{Bytecode}{
  keywords={},
  sensitive=false,
  comment=[l]{//},
}

\definecolor{diffstart}{named}{gray}
\definecolor{diffincl}{named}{green}
\definecolor{diffrem}{named}{red}





\lstdefinelanguage{diff}{
  morecomment=[f][\color{diffstart}]{@@},
  morecomment=[f][\color{diffincl}]{+\ },
  morecomment=[f][\color{diffrem}]{-\ },
}


\colorlet{punct}{red!60!black}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}


\newcommand\JSONnumbervaluestyle{\color{KeyWordColor}}
\newcommand\JSONstringvaluestyle{\color{StringColor}}



% switch used as state variable
\newif\ifcolonfoundonthisline

\makeatletter

\lstdefinelanguage{json}
{
  keywords            = {false,true},
  alsoletter          = 0123456789.,
  morestring          = [s]{"}{"},
  stringstyle         = \ifcolonfoundonthisline\JSONstringvaluestyle\fi,
  MoreSelectCharTable =%
    \lst@DefSaveDef{`:}\colon@json{\processColon@json},
}

% flip the switch if a colon is found in Pmode
\newcommand\processColon@json{%
  \colon@json%
  \ifnum\lst@mode=\lst@Pmode%
    \global\colonfoundonthislinetrue%
  \fi
}

\lst@AddToHook{Output}{%
  \ifcolonfoundonthisline%
    \ifnum\lst@mode=\lst@Pmode%
      \def\lst@thestyle{\JSONnumbervaluestyle}%
    \fi
  \fi
  %override by keyword style if a keyword is detected!
  \lsthk@DetectKeywords% 
}

% reset the switch at the end of line
\lst@AddToHook{EOL}%
  {\global\colonfoundonthislinefalse}


  \makeatother


%%%%%%%%%%%%%%%%%%%%%%%%
  %%% END JSON Highlighting %%%%

%%% CYPHER %%%

\lstdefinelanguage{cypher}
{ morestring=[s]{"}{"},
  stringstyle=\color{StringColor},
  morekeywords={
    MATCH, OPTIONAL, WHERE, NOT, AND, OR, XOR, RETURN, DISTINCT, ORDER, BY, ASC, ASCENDING, DESC, DESCENDING, UNWIND, AS, UNION, WITH, ALL, CREATE, DELETE, DETACH, REMOVE, SET, MERGE, SET, SKIP, LIMIT, IN, CASE, WHEN, THEN, ELSE, END,
    INDEX, DROP, UNIQUE, CONSTRAINT, EXPLAIN, PROFILE, START,
  }
}

%%% END CYPHER %%%

% Styling the caption of listing
\DeclareCaptionFormat{mylst}{\hrule#1#2#3}
\captionsetup[lstlisting]{format=mylst}


%% fullcite print all author names
\preto\fullcite{\AtNextCite{\defcounter{maxnames}{99}}}


\usepackage{amsmath}


%% included as last packages recommended in package doc
\usepackage{cleveref}

% Nameming for the sublisting environment - defined for subcaption package
\crefname{sublstlisting}{listing}{listing}
\Crefname{sublstlisting}{Listing}{Listing}

% footnote references
\crefformat{footnote}{#2\footnotemark[#1]#3}


\newenvironment{dataloglongtable}{\small{} \captionsetup{skip=-3mm}}{}

\newenvironment{footlongtable}{\footnotesize}{}


\usepackage{lipsum}  

